<!DOCTYPE html>
<html>
  <head>
    <title>D3 Path Animation Example</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
  </head>
  <body>
    <button id="animate-btn">animate</button>
    <svg width="1000" height="400"></svg>
    <script>
      const svg = d3.select("svg");
      const startPath = "M279.754,106.848c-3.979,0.06-9.013,0.091-15.556,0.091c-8.518,0-20.531-8.377-29.049-8.377s-18.201,2.058-26.72,4.85c-8.518,2.792-20.531,11.905-29.049,11.905c-8.542,0-19.413-5.732-27.954-5.732c-8.518,0-19.366,1.396-27.884,3.086c-8.518,1.69-20.531,4.703-29.049,7.055c8.518-0.588,20.531-0.294,29.049-0.882c8.518-0.588,19.366-5.732,27.884-5.732c8.542,0,19.413,5.732,27.954,5.732c8.518,0,20.531-1.323,29.049-1.323c8.518,0,18.201,1.323,26.72,1.323s20.9-10.673,29.418-10.673C271.145,108.171,279.804,107.233,279.754,106.848z";
      const middlePath = "M458.3,91.3c-8.5-0.4-19.4-1.8-28-1.8c-8.5,0-19.4,1.3-27.9,1.3s-19.4-5.7-27.9-5.7s-19.4,2.1-27.9,4.4c-8.5,2.4-9.7,6.7-17.3,10.7c-2,1,8.8-2.9,17.3-5.4c8.5-2.6,19.4-5.3,27.9-5.3s19.4,4,27.9,4s19.4-0.4,27.9-0.4c8.5,0,19.4,2.6,28,2.6c8.5,0,20.5-1,29-2.6c2.3-0.5,4.8-1.2,7.3-2.1c-2.5,0.7-5,1.2-7.3,1.2C478.8,92.2,466.8,91.7,458.3,91.3z";
      
      const endPath = "M279.388,106.746c-3.912,0.111-8.429-1.325-14.75-1.325c-8.518,0-20.97-10.607-29.488-10.607s-18.201,1.323-26.72,1.323c-8.518,0-20.531-1.323-29.049-1.323c-8.542,0-19.413,5.732-27.954,5.732c-8.518,0-19.366-5.144-27.884-5.732c-8.518-0.588-20.531-0.294-29.049-0.882c-8.518-0.588-19.366-9.7-27.884-9.7c-8.542,0-19.413,5.952-27.954,11.905v21.164c8.542,5.07,19.413,10.141,27.954,10.141c8.518,0,19.366-4.703,27.884-7.055c8.518-2.352,20.531-5.364,29.049-7.055c8.518-1.69,19.366-3.086,27.884-3.086c8.542,0,19.413,5.732,27.954,5.732c8.518,0,20.531-9.112,29.049-11.905c8.518-2.792,18.201-4.85,26.72-4.85s20.531,8.377,29.049,8.377c6.543,0,11.576-0.032,15.556-0.091C279.706,107.138,279.87,106.841,279.388,106.746z";
      
      const path = svg.append("path")
         .attr("d", middlePath)
         .attr("stroke", "none")
         .attr("stroke-width", 2)
         .attr("fill", "red");

        let transition
         
         
      d3.select("#animate-btn")
        .on("click", function() {
          if (transition) transition.interrupt();
        
          transition = path.transition()
             .duration(1000)
             .attr("d", endPath);
        
    })
         

     
    </script>
  </body>
</html>
